# ============================================================================
#  D√âBROUILLEPRO BACKEND ‚Äî ENVIRONMENT VARIABLES (OFFICIAL CONTRACT)
#  File: .env.example
# ============================================================================
#
#  üéØ OBJECTIF
#  - D√©finir le contrat complet des variables d‚Äôenvironnement
#  - Garantir un d√©marrage reproductible
#  - S√©curiser les secrets
#  - Faciliter l‚Äôaudit, l‚Äôautomatisation et le scale mondial
#
#  üß≠ R√àGLES ABSOLUES
#  - Copier ce fichier vers .env
#  - Remplir TOUTES les variables obligatoires
#  - Ne JAMAIS committer le fichier .env r√©el
#  - Utiliser un gestionnaire de secrets en production
#
# ============================================================================


# ----------------------------------------------------------------------------
# üåç ENVIRONMENT ‚Äî CONTEXTE D‚ÄôEX√âCUTION GLOBAL
# ----------------------------------------------------------------------------
# Valeurs autoris√©es :
#   - development
#   - staging
#   - production
#
NODE_ENV=development


# ----------------------------------------------------------------------------
# üöÄ SERVER ‚Äî RUNTIME HTTP
# ----------------------------------------------------------------------------
# Port d‚Äô√©coute du serveur HTTP
PORT=4000

# Pr√©fixe API global (ne pas modifier sauf refonte d‚ÄôAPI)
API_PREFIX=/api

# Hostname public (utilis√© pour liens, webhooks, signatures)
PUBLIC_HOST=http://localhost:4000


# ----------------------------------------------------------------------------
# üóÑÔ∏è DATABASE ‚Äî MONGODB (SOURCE DE V√âRIT√â)
# ----------------------------------------------------------------------------
# URI MongoDB compl√®te
#
# Exemples :
#   mongodb://localhost:27017/debrouille_dev
#   mongodb+srv://user:password@cluster.mongodb.net/debrouille_prod
#
MONGO_URI=mongodb://localhost:27017/debrouille_dev

# Timeout de connexion (ms)
MONGO_CONNECT_TIMEOUT_MS=15000

# Pool de connexions maximum
MONGO_MAX_POOL_SIZE=20


# ----------------------------------------------------------------------------
# üîê AUTHENTICATION ‚Äî JWT / SESSIONS
# ----------------------------------------------------------------------------
# Cl√© secr√®te JWT
# ‚ö†Ô∏è Doit √™tre longue (>64 chars), al√©atoire, unique par environnement
#
JWT_SECRET=CHANGE_ME_ULTRA_LONG_RANDOM_SECRET_KEY

# Dur√©e de validit√© des tokens
# Exemples : 15m | 1h | 1d | 7d
JWT_EXPIRES_IN=7d

# Cl√© de rotation secondaire (optionnelle mais recommand√©e)
JWT_ROTATION_SECRET=


# ----------------------------------------------------------------------------
# üõ°Ô∏è RATE LIMITING ‚Äî PROTECTION ANTI ABUS
# ----------------------------------------------------------------------------
# Fen√™tre de limitation en millisecondes
RATE_LIMIT_WINDOW_MS=60000

# Nombre maximum de requ√™tes par IP par fen√™tre
RATE_LIMIT_MAX=300

# Activer la protection globale
RATE_LIMIT_ENABLED=true


# ----------------------------------------------------------------------------
# ‚≠ê TRUST / FRAUD / RISK (FUTUR READY)
# ----------------------------------------------------------------------------
# Score de confiance initial par d√©faut
DEFAULT_TRUST_SCORE=50

# Seuil minimal autoris√© pour certaines actions sensibles
MIN_TRUST_SCORE_FOR_SENSITIVE_ACTIONS=30


# ----------------------------------------------------------------------------
# ü§ñ AI / INTELLIGENCE
# ----------------------------------------------------------------------------
# Fournisseur IA
# Valeurs possibles :
#   - internal
#   - openai
#   - custom
#
AI_PROVIDER=internal

# Cl√© API si fournisseur externe
AI_API_KEY=

# Limite mensuelle de consommation IA (optionnel)
AI_MONTHLY_QUOTA=100000


# ----------------------------------------------------------------------------
# üì¶ STORAGE / FILES ‚Äî M√âDIAS & DOCUMENTS
# ----------------------------------------------------------------------------
# Fournisseur de stockage
# Valeurs possibles :
#   - local
#   - s3
#   - gcs
#   - azure
#   - ipfs
#
STORAGE_PROVIDER=local

# R√©pertoire local si STORAGE_PROVIDER=local
LOCAL_STORAGE_PATH=./uploads

# S3 / Compatible
S3_ENDPOINT=
S3_REGION=
S3_BUCKET=
S3_ACCESS_KEY=
S3_SECRET_KEY=


# ----------------------------------------------------------------------------
# ‚ö° REALTIME / WEBSOCKETS (FUTUR READY)
# ----------------------------------------------------------------------------
# Activer les canaux temps r√©el
REALTIME_ENABLED=true

# Nombre maximum de connexions simultan√©es
REALTIME_MAX_CONNECTIONS=10000


# ----------------------------------------------------------------------------
# üßä CACHE (FUTUR READY)
# ----------------------------------------------------------------------------
# Cache principal
# Valeurs : memory | redis | indexeddb
CACHE_PROVIDER=memory

# Redis URL si utilis√©
REDIS_URL=redis://localhost:6379

# TTL par d√©faut (secondes)
CACHE_DEFAULT_TTL=300


# ----------------------------------------------------------------------------
# üìä OBSERVABILITY ‚Äî LOGS / METRICS / TRACES
# ----------------------------------------------------------------------------
# Niveau de logs
# Valeurs : debug | info | warn | error
LOG_LEVEL=info

# Activer les m√©triques
METRICS_ENABLED=true

# Activer le tracing distribu√©
TRACING_ENABLED=false

# Endpoint OpenTelemetry (si activ√©)
OTEL_EXPORTER_ENDPOINT=


# ----------------------------------------------------------------------------
# üåê CORS ‚Äî S√âCURIT√â FRONTEND
# ----------------------------------------------------------------------------
# Origines autoris√©es (s√©par√©es par virgules)
# Exemple :
#   https://app.debrouille.com,https://admin.debrouille.com
#
CORS_ALLOWED_ORIGINS=*


# ----------------------------------------------------------------------------
# üß™ DEV / DEBUG
# ----------------------------------------------------------------------------
# Active des logs et outils suppl√©mentaires
DEBUG=false

# D√©sactive certaines protections pour le d√©veloppement uniquement
DEV_RELAXED_SECURITY=false


# ----------------------------------------------------------------------------
# ‚òéÔ∏è SUPPORT / MONITORING (OPTIONNEL)
# ----------------------------------------------------------------------------
# Email d‚Äôalerte en cas d‚Äôincident critique
ALERT_EMAIL=

# Webhook d‚Äôalerte (Slack, Teams, etc.)
ALERT_WEBHOOK_URL=


# ============================================================================
#  ‚úÖ FIN DU CONTRAT D‚ÄôENVIRONNEMENT
# ============================================================================
